!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/cdk"),require("@angular/material"),require("@angular/animations")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@angular/cdk","@angular/material","@angular/animations"],t):t(e.mde=e.mde||{},e.ng.core,e._angular_common,e._angular_cdk,e._angular_material,e._angular_animations)}(this,function(e,t,o,r,i,s){"use strict";function n(){throw Error('mde-popover-trigger: must pass in an mde-popover instance.\n\n    Example:\n      <mde-popover #popover="mdPopover"></mde-popover>\n      <button [mdPopoverTriggerFor]="popover"></button>')}function p(){throw Error('x-position value must be either \'before\' or after\'.\n      Example: <mde-popover x-position="before" #popover="mdPopover"></mde-popover>')}function a(){throw Error('y-position value must be either \'above\' or below\'.\n      Example: <mde-popover y-position="above" #popover="mdPopover"></mde-popover>')}var l=s.trigger("transformPopover",[s.state("enter",s.style({opacity:1,transform:"scale(1)"})),s.transition("void => *",[s.style({opacity:0,transform:"scale(0)"}),s.animate("200ms cubic-bezier(0.25, 0.8, 0.25, 1)")]),s.transition("* => void",[s.animate("50ms 100ms linear",s.style({opacity:0}))])]),c=function(){function e(e){this._elementRef=e,this._positionX="after",this._positionY="below",this._triggerEvent="hover",this._enterDelay=200,this._leaveDelay=0,this._overlapTrigger=!0,this._targetOffsetX=0,this._targetOffsetY=0,this._arrowOffsetX=20,this._arrowWidth=8,this._arrowColor="rgba(0, 0, 0, 0.12)",this._closeOnClick=!0,this._focusTrapEnabled=!0,this._classList={},this.containerPositioning=!1,this.closeDisabled=!1,this._onAnimationStateChange=new t.EventEmitter,this.close=new t.EventEmitter,this.setPositionClasses()}return Object.defineProperty(e.prototype,"positionX",{get:function(){return this._positionX},set:function(e){"before"!==e&&"after"!==e&&p(),this._positionX=e,this.setPositionClasses()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positionY",{get:function(){return this._positionY},set:function(e){"above"!==e&&"below"!==e&&a(),this._positionY=e,this.setPositionClasses()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"triggerEvent",{get:function(){return this._triggerEvent},set:function(e){this._triggerEvent=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enterDelay",{get:function(){return this._enterDelay},set:function(e){this._enterDelay=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leaveDelay",{get:function(){return this._enterDelay},set:function(e){this._enterDelay=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overlapTrigger",{get:function(){return this._overlapTrigger},set:function(e){this._overlapTrigger=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"targetOffsetX",{get:function(){return this._targetOffsetX},set:function(e){this._targetOffsetX=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"targetOffsetY",{get:function(){return this._targetOffsetY},set:function(e){this._targetOffsetY=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"arrowOffsetX",{get:function(){return this._arrowOffsetX},set:function(e){this._arrowOffsetX=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"arrowWidth",{get:function(){return this._arrowWidth},set:function(e){this._arrowWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"arrowColor",{get:function(){return this._arrowColor},set:function(e){this._arrowColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closeOnClick",{get:function(){return this._closeOnClick},set:function(e){this._closeOnClick=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusTrapEnabled",{get:function(){return this._focusTrapEnabled},set:function(e){this._focusTrapEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classList",{get:function(){return this._classList},set:function(e){e&&e.length&&(this._classList=e.split(" ").reduce(function(e,t){return e[t]=!0,e},{}),this._elementRef.nativeElement.className="",this.setPositionClasses())},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this._emitCloseEvent(),this.close.complete()},e.prototype._handleKeydown=function(e){switch(e.keyCode){case r.ESCAPE:return void this._emitCloseEvent()}},e.prototype._emitCloseEvent=function(){this.close.emit()},e.prototype.onClick=function(){this.closeOnClick&&this._emitCloseEvent()},e.prototype.onMouseOver=function(){"hover"===this.triggerEvent&&(this.closeDisabled=!0)},e.prototype.onMouseLeave=function(){"hover"===this.triggerEvent&&(this.closeDisabled=!1,this._emitCloseEvent())},e.prototype.setCurrentStyles=function(){this.popoverArrowStyles={right:"before"===this.positionX?this.arrowOffsetX-this.arrowWidth+"px":"",left:"after"===this.positionX?this.arrowOffsetX-this.arrowWidth+"px":"","border-top":"below"===this.positionY?this.arrowWidth+"px solid "+this.arrowColor:"0px solid transparent","border-right":this.arrowWidth+"px solid transparent","border-bottom":"above"===this.positionY?this.arrowWidth+"px solid "+this.arrowColor:this.arrowWidth+"px solid transparent","border-left":this.arrowWidth+"px solid transparent"},this.popoverContentStyles={"padding-top":!0===this.overlapTrigger?"0px":this.arrowWidth+"px","padding-bottom":!0===this.overlapTrigger?"0px":this.arrowWidth+"px","margin-top":!1===this.overlapTrigger&&"below"===this.positionY&&!1===this.containerPositioning?-2*this.arrowWidth+"px":"0px"}},e.prototype.setPositionClasses=function(e,t){void 0===e&&(e=this.positionX),void 0===t&&(t=this.positionY),this._classList["mde-popover-before"]="before"===e,this._classList["mde-popover-after"]="after"===e,this._classList["mde-popover-above"]="above"===t,this._classList["mde-popover-below"]="below"===t},e.decorators=[{type:t.Component,args:[{selector:"mde-popover",template:'<ng-template> <div class="mde-popover-panel" role="dialog" [class.mde-popover-overlap]="overlapTrigger" [ngClass]="_classList" [ngStyle]="popoverPanelStyles" (keydown)="_handleKeydown($event)" (click)="onClick()" (mouseover)="onMouseOver()" (mouseleave)="onMouseLeave()" [@transformPopover]="\'enter\'"> <div class="mde-popover-direction-arrow" [ngStyle]="popoverArrowStyles" *ngIf="!overlapTrigger"></div> <div class="mde-popover-content" [ngStyle]="popoverContentStyles" cdkTrapFocus="focusTrapEnabled"> <ng-content></ng-content> </div> </div> </ng-template> ',styles:[".mde-popover-panel{display:flex;flex-direction:column;max-height:calc(100vh + 48px)}.mde-popover-ripple{position:absolute;top:0;left:0;bottom:0;right:0}.mde-popover-below .mde-popover-direction-arrow{position:absolute;bottom:0;width:0;height:0;border-bottom-width:0 !important;z-index:99999}.mde-popover-above .mde-popover-direction-arrow{position:absolute;top:0px;width:0;height:0;border-top-width:0 !important;z-index:99999}.mde-popover-after .mde-popover-direction-arrow{left:20px}.mde-popover-before .mde-popover-direction-arrow{right:20px} /*# sourceMappingURL=popover.css.map */"],changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None,host:{role:"dialog"},animations:[l],exportAs:"mdePopover"}]}],e.ctorParameters=function(){return[{type:t.ElementRef}]},e.propDecorators={positionX:[{type:t.Input,args:["mdePopoverPositionX"]}],positionY:[{type:t.Input,args:["mdePopoverPositionY"]}],triggerEvent:[{type:t.Input,args:["mdePopoverTriggerOn"]}],enterDelay:[{type:t.Input,args:["mdePopoverEnterDelay"]}],leaveDelay:[{type:t.Input,args:["mdePopoverLeaveDelay"]}],overlapTrigger:[{type:t.Input,args:["mdePopoverOverlapTrigger"]}],targetOffsetX:[{type:t.Input,args:["mdePopoverOffsetX"]}],targetOffsetY:[{type:t.Input,args:["mdePopoverOffsetY"]}],arrowOffsetX:[{type:t.Input,args:["mdePopoverArrowOffsetX"]}],arrowWidth:[{type:t.Input,args:["mdePopoverArrowWidth"]}],arrowColor:[{type:t.Input,args:["mdePopoverArrowColor"]}],closeOnClick:[{type:t.Input,args:["mdePopoverCloseOnClick"]}],focusTrapEnabled:[{type:t.Input,args:["mdeFocusTrapEnabled"]}],classList:[{type:t.Input,args:["class"]}],close:[{type:t.Output}],templateRef:[{type:t.ViewChild,args:[t.TemplateRef]}]},e}(),h=function(){function e(e,o,r,i){this._overlay=e,this._element=o,this._viewContainerRef=r,this._dir=i,this._overlayRef=null,this._popoverOpen=!1,this._openedByMouse=!1,this.onPopoverOpen=new t.EventEmitter,this.onPopoverClose=new t.EventEmitter}return e.prototype.ngAfterViewInit=function(){var e=this;this._checkPopover(),this._setCurrentConfig(),this.popover.close.subscribe(function(){return e.closePopover()})},e.prototype.ngOnDestroy=function(){this.destroyPopover()},e.prototype._setCurrentConfig=function(){"before"!==this.positionX&&"after"!==this.positionX||(this.popover.positionX=this.positionX),"above"!==this.positionY&&"below"!==this.positionY||(this.popover.positionY=this.positionY),this.triggerEvent&&(this.popover.triggerEvent=this.triggerEvent),this.enterDelay&&(this.popover.enterDelay=this.enterDelay),this.leaveDelay&&(this.popover.leaveDelay=this.leaveDelay),!0!==this.overlapTrigger&&!1!==this.overlapTrigger||(this.popover.overlapTrigger=this.overlapTrigger),this.targetOffsetX&&(this.popover.targetOffsetX=this.targetOffsetX),this.targetOffsetY&&(this.popover.targetOffsetY=this.targetOffsetY),this.arrowOffsetX&&(this.popover.arrowOffsetX=this.arrowOffsetX),this.arrowWidth&&(this.popover.arrowWidth=this.arrowWidth),this.arrowColor&&(this.popover.arrowColor=this.arrowColor),!0!==this.closeOnClick&&!1!==this.closeOnClick||(this.popover.closeOnClick=this.closeOnClick),this.popover.setCurrentStyles()},Object.defineProperty(e.prototype,"popoverOpen",{get:function(){return this._popoverOpen},enumerable:!0,configurable:!0}),e.prototype.onClick=function(){"click"===this.popover.triggerEvent&&this.togglePopover()},e.prototype.onMouseOver=function(){var e=this;"hover"===this.popover.triggerEvent&&(this._mouseoverTimer=setTimeout(function(){e.openPopover()},this.popover.enterDelay))},e.prototype.onMouseLeave=function(){var e=this;"hover"===this.popover.triggerEvent&&(this._mouseoverTimer&&(clearTimeout(this._mouseoverTimer),this._mouseoverTimer=null),this._popoverOpen&&setTimeout(function(){e.popover.closeDisabled||e.closePopover()},this.popover.leaveDelay))},e.prototype.togglePopover=function(){return this._popoverOpen?this.closePopover():this.openPopover()},e.prototype.openPopover=function(){this._popoverOpen||(this._createOverlay().attach(this._portal),"click"===this.triggerEvent&&this._subscribeToBackdrop(),this._initPopover())},e.prototype.closePopover=function(){this._overlayRef&&(this._overlayRef.detach(),"click"===this.triggerEvent&&this._backdropSubscription.unsubscribe(),this._resetPopover())},e.prototype.destroyPopover=function(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null,this._cleanUpSubscriptions())},e.prototype.focus=function(){this._element.nativeElement.focus()},Object.defineProperty(e.prototype,"dir",{get:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"},enumerable:!0,configurable:!0}),e.prototype._subscribeToBackdrop=function(){var e=this;this._overlayRef&&(this._backdropSubscription=this._overlayRef.backdropClick().subscribe(function(){e.popover._emitCloseEvent()}))},e.prototype._initPopover=function(){this._setIsPopoverOpen(!0)},e.prototype._resetPopover=function(){this._setIsPopoverOpen(!1),this._openedByMouse||this.focus(),this._openedByMouse=!1},e.prototype._setIsPopoverOpen=function(e){this._popoverOpen=e,this._popoverOpen?this.onPopoverOpen.emit():this.onPopoverClose.emit()},e.prototype._checkPopover=function(){this.popover||n()},e.prototype._createOverlay=function(){if(!this._overlayRef){this._portal=new r.TemplatePortal(this.popover.templateRef,this._viewContainerRef);var e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e)}return this._overlayRef},e.prototype._getOverlayConfig=function(){var e=new i.OverlayState;return e.positionStrategy=this._getPosition().withDirection(this.dir),"click"===this.triggerEvent&&(e.hasBackdrop=!0,e.backdropClass="cdk-overlay-transparent-backdrop"),e.direction=this.dir,e.scrollStrategy=this._overlay.scrollStrategies.reposition(),e},e.prototype._subscribeToPositions=function(e){var t=this;this._positionSubscription=e.onPositionChange.subscribe(function(e){var o="start"===e.connectionPair.overlayX?"after":"before",r="top"===e.connectionPair.overlayY?"below":"above";t.popover.overlapTrigger||(r="below"===r?"above":"below"),t.popover.positionX=o,t.popover.positionY=r,t.popover.setCurrentStyles(),t.popover.setPositionClasses(o,r)})},e.prototype._getPosition=function(){var e="before"===this.popover.positionX?["end","start"]:["start","end"],t=e[0],o=e[1],r="above"===this.popover.positionY?["bottom","top"]:["top","bottom"],i=r[0],s=r[1],n=i,p=s;this.popover.overlapTrigger||(n="top"===i?"bottom":"top",p="top"===s?"bottom":"top");var a=0,l=0;this.popover.targetOffsetX&&!isNaN(Number(this.popover.targetOffsetX))&&(a=Number(this.popover.targetOffsetX)),this.popover.targetOffsetY&&!isNaN(Number(this.popover.targetOffsetY))&&(l=Number(this.popover.targetOffsetY));var c=this._element;return void 0!==this.targetElement&&(this.popover.containerPositioning=!0,c=this.targetElement._elementRef),this._overlay.position().connectedTo(c,{originX:t,originY:n},{overlayX:t,overlayY:i}).withFallbackPosition({originX:o,originY:n},{overlayX:o,overlayY:i}).withFallbackPosition({originX:t,originY:p},{overlayX:t,overlayY:s}).withFallbackPosition({originX:o,originY:p},{overlayX:o,overlayY:s}).withOffsetX(a).withOffsetY(l)},e.prototype._cleanUpSubscriptions=function(){this._backdropSubscription&&this._backdropSubscription.unsubscribe(),this._positionSubscription&&this._positionSubscription.unsubscribe()},e.prototype._handleMousedown=function(e){r.isFakeMousedownFromScreenReader(e)||(this._openedByMouse=!0)},e.decorators=[{type:t.Directive,args:[{selector:"[mdePopoverTriggerFor]",host:{"aria-haspopup":"true","(mouseover)":"onMouseOver()","(mousedown)":"_handleMousedown($event)","(mouseleave)":"onMouseLeave()","(click)":"onClick()"},exportAs:"mdePopoverTrigger"}]}],e.ctorParameters=function(){return[{type:i.Overlay},{type:t.ElementRef},{type:t.ViewContainerRef},{type:i.Directionality,decorators:[{type:t.Optional}]}]},e.propDecorators={popover:[{type:t.Input,args:["mdePopoverTriggerFor"]}],targetElement:[{type:t.Input,args:["mdePopoverTargetAt"]}],positionX:[{type:t.Input,args:["mdePopoverPositionX"]}],positionY:[{type:t.Input,args:["mdePopoverPositionY"]}],triggerEvent:[{type:t.Input,args:["mdePopoverTriggerOn"]}],enterDelay:[{type:t.Input,args:["mdePopoverEnterDelay"]}],leaveDelay:[{type:t.Input,args:["mdePopoverLeaveDelay"]}],overlapTrigger:[{type:t.Input,args:["mdePopoverOverlapTrigger"]}],targetOffsetX:[{type:t.Input,args:["mdePopoverOffsetX"]}],targetOffsetY:[{type:t.Input,args:["mdePopoverOffsetY"]}],arrowOffsetX:[{type:t.Input,args:["mdePopoverArrowOffsetX"]}],arrowWidth:[{type:t.Input,args:["mdePopoverArrowWidth"]}],arrowColor:[{type:t.Input,args:["mdePopoverArrowColor"]}],closeOnClick:[{type:t.Input,args:["mdePopoverCloseOnClick"]}],onPopoverOpen:[{type:t.Output}],onPopoverClose:[{type:t.Output}]},e}(),v=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[i.OverlayModule,o.CommonModule,i.MdRippleModule,i.MdCommonModule,r.A11yModule],exports:[c,h,i.MdCommonModule],declarations:[c,h]}]}],e.ctorParameters=function(){return[]},e}();e.MdePopoverModule=v,e.ɵa=c,e.ɵc=l,e.ɵb=h,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=mde.umd.min.js.map
